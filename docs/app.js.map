{"version":3,"sources":["app/.secrets.js","app/App.js","app/Http.js","app/Models.js","app/components/action-sheet.js","app/components/card.js","app/components/index.js","app/components/layout.js","app/components/list.js","app/components/modal.js","app/components/toast.js","app/index.js","app/initialize.js","app/pages/fns.js","app/pages/home.js","app/pages/index.js","app/pages/login.js","app/pages/register.js","app/pages/search-page.js","app/routes/auth-routes.js","app/routes/index.js","app/routes/main-routes.js"],"names":["tmdbApiKey","tmdbAuth","Authorization","tmdbBaseUrl","tvMazeApiKey","tvMazeBaseUrl","prismaUrl","toRoutes","mdl","acc","route","onmatch","args","path","fullroute","group","includes","state","isAuth","m","set","get","render","component","App","Routes","reduce","onProgress","e","lengthComputable","Model","loadingProgress","max","total","value","loaded","redraw","onLoad","onLoadStart","isLoading","onLoadEnd","xhrProgress","config","xhr","onprogress","onload","onloadstart","onloadend","_http","request","headers","url","contentType","method","_task","Task","rej","res","then","getTask","postTask","putTask","deleteTask","backEndlessBaseUrl","tvMazeSearchUrl","baseUrl","query","tvMazeShowByIdUrl","id","backendlessUrl","searchUrl","tvMazeDetailsUrl","http","Stream","paginate","page","total_pages","total_results","searchItem","showMenu","details","selected","currentList","domList","mode","toast","show","duration","status","msg","data","shows","errors","search","user","lists","db","showSettings","showAction","actionSheetController","create","header","buttons","handler","document","body","classList","toggle","window","matchMedia","text","localStorage","removeItem","x","present","Card","view","attrs","content","footer","translucent","searchShows","fork","HomeToolBar","map","list","onclick","listDom","closeSlidingItems","SearchToolBar","onremove","style","paddingTop","animated","placeholder","oninput","target","onkeyup","Toolbar","name","Footer","tabbedRoutes","filter","r","tab","slot","icon","Layout","children","Toast","PageWrap","FormWrap","getMoreData","console","log","setTimeout","disabled","showModal","otherList","updateUserShows","updatedShows","deleteShow","objectId","List","onionInfinite","oncreate","dom","src","image","paddingLeft","notes","side","color","threshold","modal","dto","tvmazeId","concat","dismissModal","onError","err","JSON","parse","stringify","response","message","error","onSuccess","addUserShows","updateShowDetails","update","chain","_","getShowDetails","Episode","getEpisode","episode","oninit","ep","href","label","airdate","season","number","Modal","modalController","backdropDismiss","dismiss","onbeforeremove","premiered","split","network","webChannel","listStatus","padding","trust","summary","onchange","links","toastController","showCloseButton","root","module","hot","accept","process","env","NODE_ENV","navigator","addEventListener","serviceWorker","register","registration","catch","registrationError","getItem","require","v","updateState","resetToast","makeToast","formatError","getEpisodeLink","makeHttps","formatDetailsLinks","undefined","formatEpisodeLinks","toEpisodeViewModel","_links","original","medium","toDetailsViewModel","genres","genre","replace","toSearchViewModel","toDbModel","userId","type","rejectWithAttr","attr","updateResults","result","updateShowStatus","getShows","searchShowsTask","itemSelected","propIsDefined","not","showListSelection","updateListStatus","listType","createBody","updateOrder","order","length","toDto","linkUserToShowTask","addUserShowsTask","updateUserShowsTask","deleteShowTask","updateShowDetailsTask","getShowDetailsTask","getShowTvMazeDetailsTask","findShowInDbTask","filterShowsByListType","filterShowForUnselected","getEpisodeTask","episodeUrl","registerUserTask","email","password","btoa","loginUserTask","login","getShowsTask","Home","Login","confirm","loginUser","setItem","ngmodel","required","size","expand","Link","Register","registerUser","cornfim","SearchPage","idx","key","isNav","options","MainRoutes","AuthRoutes"],"mappings":"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","file":"docs/app.js","sourcesContent":["export const tmdbApiKey = \"1e4d78ab60660282c63379725fc9b111\"\nexport const tmdbAuth = {\n  Authorization:\n    \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZTRkNzhhYjYwNjYwMjgyYzYzMzc5NzI1ZmM5YjExMSIsInN1YiI6IjVkYmNjMjBjOTdhNGU2MDAxNTdjNjkxYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.TgL91o4VHyQo4cm3KLx6nVICyrn8E8pXDC1zMdlDFsU\"\n}\nexport const tmdbBaseUrl = \"https://api.themoviedb.org/3\"\n\nexport const tvMazeApiKey = \"F4-A2-dEzYi0oXvzbNWON3_nrnPSt9Yv\"\nexport const tvMazeBaseUrl = \"https://api.tvmaze.com\"\nexport const prismaUrl =\n  \"https://eu1.prisma.sh/boaz-blake-8951e1/whensMyShow/dev\"\n","const toRoutes = (mdl) => (acc, route) => {\n  acc[route.route] = {\n    onmatch: (args, path, fullroute) => {\n      if (route.group.includes(\"authenticated\") && !mdl.state.isAuth()) {\n        m.route.set(m.route.get())\n      }\n      mdl.state.route = route\n      route.onmatch(mdl, args, path, fullroute)\n    },\n    render: () => route.component(mdl),\n  }\n  return acc\n}\n\nconst App = (mdl) => mdl.Routes.reduce(toRoutes(mdl), {})\n\nexport default App\n","import { tvMazeApiKey, tvMazeBaseUrl } from \"./.secrets.js\"\nimport Task from \"data.task\"\nimport Model from \"./Models.js\"\n\nfunction onProgress(e) {\n  if (e.lengthComputable) {\n    // console.log(\"onprogress\", e.total, e.loaded)\n    Model.state.loadingProgress.max(e.total)\n    Model.state.loadingProgress.value(e.loaded)\n    m.redraw()\n  }\n}\n\nfunction onLoad() {\n  return false\n}\n\nfunction onLoadStart() {\n  Model.state.isLoading(true)\n  return false\n}\nfunction onLoadEnd() {\n  Model.state.isLoading(false)\n  Model.state.loadingProgress.max(0)\n  Model.state.loadingProgress.value(0)\n  return false\n}\n\nconst xhrProgress = {\n  config: (xhr) => {\n    // console.log(xhr)\n    xhr.onprogress = onProgress\n    xhr.onload = onLoad\n    xhr.onloadstart = onLoadStart\n    xhr.onloadend = onLoadEnd\n  },\n}\n\nconst _http = (mdl) => {\n  mdl.state.isLoading(!mdl.state.isLoading)\n  return m.request\n}\n\nconst headers = (url, args) => {\n  // let tmdbBearerToken = url.includes(\"themoviedb\") && tmdbAuth\n  let contentType =\n    { \"Content-Type\": \"application/json;charset=utf-8\" } &&\n    [\"Get\", \"POST\", \"PUT\", \"PATCH\"].includes(args.method)\n  return {\n    headers: {\n      // ...tmdbBearerToken,\n      ...contentType,\n    },\n  }\n}\n\nconst _task = (url) => (args) =>\n  new Task((rej, res) =>\n    _http(Model)(url, { ...args, ...headers(url, args), ...xhrProgress }).then(\n      res,\n      rej\n    )\n  )\n\nconst getTask = (url, args = {}) =>\n  _task(url)({\n    ...args,\n    method: \"GET\",\n  })\nconst postTask = (url, args = {}) =>\n  _task(url)({\n    ...args,\n    method: \"POST\",\n  })\nconst putTask = (url, args = {}) => {\n  // console.log(args)\n  return _task(url)({\n    ...args,\n    method: \"PUT\",\n  })\n}\nconst deleteTask = (url, args = {}) =>\n  _task(url)({\n    ...args,\n    method: \"DELETE\",\n  })\n\nconst backEndlessBaseUrl =\n  \"https://api.backendless.com/7F421158-889B-FD93-FF62-1ACDCD07AD00/1D9BEF3E-0CCC-D6C6-FF60-1A0B849A3E00/\"\n\nconst tvMazeSearchUrl = (baseUrl) => (query) =>\n  `${baseUrl}/search/shows?q=${query}`\n\nconst tvMazeShowByIdUrl = (baseUrl) => (id) => `${baseUrl}/shows/${id}`\n\nconst backendlessUrl = (url) => backEndlessBaseUrl + url\n\nconst searchUrl = (query) => tvMazeSearchUrl(tvMazeBaseUrl)(query)\nconst tvMazeDetailsUrl = (id) => tvMazeShowByIdUrl(tvMazeBaseUrl)(id)\n\nconst http = {\n  getTask,\n  postTask,\n  putTask,\n  deleteTask,\n  searchUrl,\n  tvMazeDetailsUrl,\n  backendlessUrl,\n}\n\nexport default http\n","import Routes from \"./routes\"\n\nconst state = {\n  isAuth: Stream(false),\n  route: \"\",\n  paginate: {\n    page: Stream(1),\n    total_pages: Stream(0),\n    total_results: Stream(0),\n  },\n  query: Stream(\"\"),\n  isLoading: Stream(false),\n  loadingProgress: {\n    max: Stream(null),\n    value: Stream(null),\n  },\n  searchItem: {\n    showMenu: Stream(false),\n  },\n  details: {\n    selected: Stream(null),\n  },\n  currentList: Stream(\"Watching\"),\n  domList: null,\n  mode: \"light\",\n  toast: {},\n}\n\nconst toast = {\n  show: Stream(false),\n  duration: Stream(2000),\n  status: Stream(null),\n  msg: Stream(null),\n}\n\nconst data = {\n  shows: Stream([]),\n  details: Stream(null),\n}\n\nconst errors = {\n  details: Stream(null),\n  search: Stream(null),\n  user: Stream(null),\n}\n\nconst user = {\n  shows: [],\n  lists: [\"Watching\", \"Wishlist\"],\n  data: {},\n}\n\nconst Model = {\n  db: \"prodshows\",\n  toast,\n  Routes,\n  state,\n  user,\n  data,\n  errors,\n}\n\nexport default Model\n","import { actionSheetController } from \"@ionic/core\"\nexport const showSettings = (mdl) => {\n  const showAction = () => {\n    actionSheetController\n      .create({\n        header: \"Settings\",\n        buttons: [\n          {\n            handler: () => {\n              mdl.state.mode = mdl.state.mode == \"light\" ? \"dark\" : \"light\"\n              document.body.classList.toggle(\"dark\")\n              window.matchMedia(\"(prefers-color-scheme: dark)\")\n            },\n            text:\n              mdl.state.mode == \"light\"\n                ? \"Enter Dark Mode\"\n                : \"Enter Light Mode\",\n          },\n          {\n            text: \"Logout\",\n            handler: () => {\n              mdl.user.shows = []\n              mdl.user.data = {}\n              mdl.state.isAuth(false)\n              // localStorage.setItem(\"user\", null)\n              localStorage.removeItem(\"user\")\n              m.route.set(\"/login\")\n            },\n          },\n        ],\n      })\n      .then((x) => x.present())\n  }\n  showAction()\n}\n","export const Card = {\n  view: ({ attrs: { header, content, footer } }) =>\n    m(\n      \"ion-card\",\n      m(\"ion-card-header\", { translucent: true }, header),\n      m(\"ion-card-content\", content),\n      m(\"ion-card-footer\", footer)\n    ),\n}\n","export * from \"./layout.js\"\nexport * from \"./modal.js\"\nexport * from \"./toast.js\"\nexport * from \"./list.js\"\nexport * from \"./card.js\"\n","import Routes from \"../routes/index.js\"\nimport http from \"../Http.js\"\nimport { searchShowsTask, onError, updateState } from \"../pages/fns.js\"\nimport { showSettings } from \"./action-sheet\"\nimport Toast from \"./toast\"\n\nconst searchShows = (mdl) =>\n  searchShowsTask(mdl)(http).fork(onError(mdl)(\"search\"), mdl.data.shows)\n\nconst HomeToolBar = () => {\n  return {\n    view: ({ attrs: { mdl } }) =>\n      m(\n        \"ion-segment\",\n        { value: mdl.state.currentList() },\n        mdl.user.lists.map((list) =>\n          m(\n            \"ion-segment-button\",\n            {\n              onclick: () => {\n                mdl.state.currentList(list)\n                mdl.state.listDom.closeSlidingItems()\n              },\n              value: list,\n            },\n            list\n          )\n        )\n      ),\n  }\n}\n\nconst SearchToolBar = () => {\n  return {\n    onremove: ({ attrs: { mdl } }) => mdl.state.query(null),\n    view: ({ attrs: { mdl } }) =>\n      m(\"ion-searchbar\", {\n        style: { paddingTop: \"12px\" },\n        animated: true,\n        \"show-cancel-button\": \"focus\",\n        placeholder: \"Search for a show\",\n        value: mdl.state.query(),\n        oninput: (e) => mdl.state.query(e.target.value),\n        onkeyup: () => searchShows(mdl),\n      }),\n  }\n}\n\nconst Toolbar = () => {\n  return {\n    view: ({ attrs: { mdl } }) =>\n      m(\n        \"ion-header\",\n        m(\n          \"ion-toolbar\",\n          mdl.state.route.name == \"home\" && m(HomeToolBar, { mdl }),\n          mdl.state.route.name == \"search\" && m(SearchToolBar, { mdl })\n        )\n      ),\n  }\n}\n\nconst Footer = () => {\n  let tabbedRoutes = Routes.filter((r) => r.group.includes(\"authenticated\"))\n  return {\n    view: ({ attrs: { mdl } }) => {\n      return m(\n        \"ion-footer\",\n        m(\n          \"ion-tab-bar\",\n          m(\"ion-tabs\", [\n            tabbedRoutes.map((r) => m(\"ion-tab\", { tab: `${r.route}` })),\n            m(\"ion-tab-bar\", { slot: \"bottom\" }, [\n              tabbedRoutes.map((r) =>\n                m(\n                  \"ion-tab-button\",\n                  {\n                    onclick: () => m.route.set(r.route),\n                    tab: `${r.route}`,\n                  },\n                  [m(\"ion-label\", r.name), m(\"ion-icon\", { name: r.icon })]\n                )\n              ),\n              m(\n                \"ion-tab-button\",\n                {\n                  onclick: () => showSettings(mdl),\n                },\n                [\n                  m(\"ion-label\", \"settings\"),\n                  m(\"ion-icon\", { name: \"ellipsis-vertical-outline\" }),\n                ]\n              ),\n            ]),\n          ])\n        )\n      )\n    },\n  }\n}\n\nexport const Layout = {\n  view: ({ attrs: { mdl }, children }) => {\n    return m(\"ion-app\", [\n      mdl.state.isAuth() && m(Toolbar, { mdl }),\n      m(\"ion-content\", children),\n      mdl.state.isAuth() && m(Footer, { mdl }),\n      mdl.toast.show() && m(Toast, { mdl }),\n    ])\n  },\n}\n\nexport const PageWrap = {\n  view: ({ children }) => m(\".page\", { slot: \"fixed\" }, children),\n}\n\nexport const FormWrap = {\n  view: ({ children, attrs: { state } }) =>\n    m(\"form\", updateState(state), children),\n}\n","import http from \"Http\"\nimport { without, sortBy, prop } from \"ramda\"\nimport {\n  filterShowsByListType,\n  deleteShowTask,\n  updateUserShowsTask,\n  onError,\n} from \"../pages/fns\"\n\nconst getMoreData = (e) => {\n  console.log(e)\n\n  setTimeout(() => (e.target.disabled = true), 2000)\n}\n\nconst showModal = (mdl, show) => mdl.state.details.selected(show)\n\nconst otherList = (mdl) => without([mdl.state.currentList()], mdl.user.lists)[0]\n\nconst updateUserShows = (mdl) => (show, list) =>\n  updateUserShowsTask(mdl)(http)(show)(list).fork(\n    onError(mdl)(\"search\"),\n    (updatedShows) => {\n      m.route.set(\"/home\")\n      mdl.user.shows = sortBy(prop(\"name\"), updatedShows)\n    }\n  )\n\nconst deleteShow = (mdl) => (show) =>\n  deleteShowTask(mdl)(http)(show.objectId).fork(\n    onError(mdl)(\"details\"),\n    (updatedShows) => {\n      m.route.set(\"/home\")\n      mdl.user.shows = sortBy(prop(\"name\"), updatedShows)\n    }\n  )\n\nexport const List = ({ attrs: { mdl } }) => {\n  return {\n    view: ({ attrs: { mdl } }) =>\n      m(\n        \"section.list\",\n        { onionInfinite: getMoreData },\n        m(\n          \"ion-list\",\n          {\n            oncreate: ({ dom }) => {\n              mdl.state.listDom = dom\n              dom.closeSlidingItems()\n            },\n          },\n          sortBy(prop(\"name\"), filterShowsByListType(mdl)).map((show) =>\n            m(\n              \"ion-item-sliding\",\n              m(\n                \"ion-item\",\n                {\n                  onclick: () => {\n                    showModal(mdl, show)\n                    mdl.state.listDom.closeSlidingItems()\n                  },\n                },\n                m(\"ion-thumbnail\", m(\"ion-img\", { src: show.image })),\n                m(\n                  \"ion-label\",\n                  { style: { paddingLeft: \"12px\" } },\n                  m(\"h2\", show.name),\n                  m(\"p\", m(\"i\", show.status)),\n                  m(\"p\", show.notes)\n                )\n              ),\n              m(\n                \"ion-item-options\",\n                {\n                  side: \"start\",\n                },\n                m(\n                  \"ion-item-option\",\n                  {\n                    onclick: () => {\n                      updateUserShows(mdl)(show, otherList(mdl))\n                      mdl.state.listDom.closeSlidingItems()\n                    },\n                  },\n                  `move to ${otherList(mdl)}`\n                )\n              ),\n              m(\n                \"ion-item-options\",\n                m(\n                  \"ion-item-option\",\n                  {\n                    color: \"danger\",\n                    side: \"end\",\n                    onclick: () => {\n                      deleteShow(mdl)(show)\n                      mdl.state.listDom.closeSlidingItems()\n                    },\n                  },\n                  \"Delete\"\n                )\n              )\n            )\n          )\n        ),\n        m(\n          \"ion-infinite-scroll\",\n          { threshold: \"100px\", id: \"infinite-scroll\" },\n          m(\"ion-infinite-scroll-content\", {\n            \"loading-spinner\": \"dots\",\n            \"loading-text\": \"Checking for more shows...\",\n          })\n        )\n      ),\n  }\n}\n","import { modalController } from \"@ionic/core\"\nimport http from \"../Http\"\nimport {\n  getShowDetailsTask,\n  updateShowDetailsTask,\n  getEpisodeTask,\n  getShowTvMazeDetailsTask,\n  addUserShowsTask,\n  makeToast,\n} from \"../pages/fns\"\nimport { sortBy, prop } from \"ramda\"\n\nconst state = {\n  show: \"\",\n  modal: null,\n  status: null,\n}\n\nconst updateUserShows = (mdl) => (dto) =>\n  mdl.user.shows(\n    sortBy(\n      prop(\"name\"),\n      mdl.user\n        .shows()\n        .filter((show) => show.tvmazeId !== dto.tvmazeId)\n        .concat([dto])\n    )\n  )\n\nconst dismissModal = (mdl) => mdl.state.details.selected(null)\n\nconst onError = (mdl) => (err) => {\n  let msg = JSON.parse(JSON.stringify(err)).response.message\n  state.error = err\n  makeToast({ mdl, status: false, msg })\n}\n\nconst onSuccess = (show) => {\n  state.show = show\n  state.error = null\n}\n\nconst addUserShows = (mdl) => (show, list) =>\n  addUserShowsTask(mdl)(http)(show)(list).fork(onError(mdl), (shows) => {\n    mdl.user.shows(shows)\n    dismissModal(mdl)\n  })\n\nconst updateShowDetails = (mdl) => (update) =>\n  updateShowDetailsTask(mdl)(http)(update)\n    .chain((_) =>\n      getShowDetailsTask(mdl)(http)(mdl.state.details.selected().objectId)\n    )\n    .fork(onError(mdl), (dto) => {\n      updateUserShows(mdl)(dto)\n      onSuccess(dto)\n      makeToast({ mdl, status: true, msg: \"Show successfully updated\" })\n    })\n\nconst getShowDetails = (mdl) =>\n  mdl.state.details.selected().objectId\n    ? getShowDetailsTask(mdl)(http)(mdl.state.details.selected().objectId).fork(\n        onError(mdl),\n        onSuccess\n      )\n    : getShowTvMazeDetailsTask(http)(mdl.state.details.selected()).fork(\n        onError(mdl),\n        onSuccess\n      )\n\nconst Episode = () => {\n  let data\n  const getEpisode = (mdl) => (episode) =>\n    getEpisodeTask(http)(episode).fork(onError(mdl), (dto) => (data = dto))\n\n  return {\n    oninit: ({\n      attrs: {\n        mdl,\n        ep: { href },\n      },\n    }) => getEpisode(mdl)(href),\n    onremove: () => (data = null),\n    view: ({\n      attrs: {\n        ep: { label },\n      },\n    }) =>\n      data &&\n      m(\".\", [\n        m(\"h3\", label),\n        m(\"ion-img\", {\n          src: data.image,\n        }),\n        m(\n          \"ion-item\",\n          m(\"ion-label\", data.name),\n          m(\"p\", data.airdate),\n          m(\"ion-label\", \"Season - Ep:\"),\n          m(\"p\", `${data.season} - ${data.number}`)\n        ),\n      ]),\n  }\n}\n\nexport const Modal = () => {\n  return {\n    oninit: ({ attrs: { mdl } }) => getShowDetails(mdl, state),\n    oncreate: ({ dom }) => {\n      modalController\n        .create({\n          component: dom,\n          backdropDismiss: false,\n        })\n        .then((modal) => {\n          state.modal = modal\n          state.modal.present()\n        })\n    },\n    onremove: ({ attrs: { mdl } }) =>\n      state.modal &&\n      state.modal.dismiss().then(() => {\n        state.modal = null\n        state.show = null\n        dismissModal(mdl)\n      }),\n    onbeforeremove: ({ attrs: { mdl } }) =>\n      state.modal.dismiss().then(() => {\n        state.modal = null\n        state.show = null\n        dismissModal(mdl)\n      }),\n    view: ({ attrs: { mdl } }) =>\n      m(\n        \"ion-modal-view\",\n        state.show && [\n          m(\n            \"ion-header\",\n            m(\n              \"ion-toolbar\",\n              m(\n                \"ion-title\",\n                `${state.show.name} - ${\n                  state.show.premiered && state.show.premiered.split(\"-\")[0]\n                } | ${state.show.network || state.show.webChannel}`\n              ),\n              m(\n                \"ion-buttons\",\n                { slot: \"primary\" },\n                m(\n                  \"ion-button\",\n                  { onclick: (e) => dismissModal(mdl) },\n                  m(\"ion-icon\", { slot: \"icon-only\", name: \"close\" })\n                )\n              )\n            ),\n            !state.show.listStatus &&\n              m(\n                \"ion-item\",\n                m(\"ion-label\", \"Add to: \"),\n                m(\n                  \"ion-buttons\",\n                  mdl.user\n                    .lists()\n                    .map((list) =>\n                      m(\n                        \"ion-button.ion-activatable ripple-parent\",\n                        { onclick: (e) => addUserShows(mdl)(state.show, list) },\n                        m(\"ion-ripple\"),\n                        list\n                      )\n                    )\n                )\n              )\n          ),\n          m(\n            \"ion-content\",\n            {\n              padding: true,\n            },\n            m(\n              \"ion-grid\",\n              m(\n                \"ion-row\",\n                m(\"ion-col\", m(\"ion-img\", { src: state.show.image })),\n                m(\"ion-col\", m.trust(state.show.summary))\n              ),\n              m(\n                \"ion-row\",\n                m(\"ion-col\", m(\"pre\", `status: ${state.show.status}`)),\n                m(\n                  \"ion-col\",\n                  state.show.listStatus &&\n                    m(\"pre\", `list status: ${state.show.listStatus}`)\n                )\n              ),\n              state.show.listStatus &&\n                m(\n                  \"ion-row\",\n                  m(\"ion-textarea\", {\n                    placeholder: \"Notes\",\n                    value: state.show.notes,\n                    onchange: (e) => (state.show.notes = e.target.value),\n                  }),\n                  m(\n                    \"ion-button\",\n                    {\n                      onclick: () =>\n                        updateShowDetails(mdl)({ notes: state.show.notes }),\n                    },\n                    \"Save note\"\n                  )\n                )\n            ),\n            m(\n              \"\",\n              m(\"h3\", \"Episodes\"),\n              state.show.links.map((ep) => m(Episode, { mdl, ep }))\n            )\n          ),\n        ]\n      ),\n  }\n}\n","import {toastController} from '@ionic/core'\n\nconst Toast = () => {\n  return {\n    view: ({ attrs: { mdl } }) =>\n      m('ion-toast', {\n        oncreate: ({ dom }) => {\n          toastController.create({\n            component: dom,\n            message:mdl.toast.msg(),\n            duration: mdl.toast.duration(),\n            showCloseButton: true,\n            animated: true,\n            color: mdl.toast.status() ? 'success' : 'danger'\n          }).then(toast =>toast.present())\n        },\n      },\n      )\n  }\n}\n\n\n\nexport default Toast\n","import App from \"./App.js\"\nimport Model from \"Models\"\n\nconst root = document.body\n\nif (module.hot) {\n  module.hot.accept()\n}\n\nif (process.env.NODE_ENV == \"development\") {\n  console.log(\"Looks like we are in development mode!\")\n} else {\n  if (\"serviceWorker\" in navigator) {\n    window.addEventListener(\"load\", () => {\n      navigator.serviceWorker\n        .register(\"./service-worker.js\")\n        .then((registration) => {\n          console.log(\"⚙️ SW registered: \", registration)\n        })\n        .catch((registrationError) => {\n          console.log(\"🧟 SW registration failed: \", registrationError)\n        })\n    })\n  }\n}\nif (localStorage.getItem(\"user\")) {\n  console.log(\"??\", JSON.parse(localStorage.getItem(\"user\")))\n  Model.user = JSON.parse(localStorage.getItem(\"user\"))\n  Model.state.isAuth(true)\n  m.route.set(\"/home\")\n}\nm.route(root, \"/login\", App(Model))\n","document.addEventListener(\"DOMContentLoaded\", () => require(\"./index.js\"))\n","import {\n  anyPass,\n  assoc,\n  compose,\n  equals,\n  filter,\n  find,\n  join,\n  lensPath,\n  lensProp,\n  map,\n  not,\n  over,\n  pluck,\n  propEq,\n  prop,\n  reject,\n  set,\n  sortBy,\n  view,\n} from \"ramda\"\n\nexport const log = (m) => (v) => {\n  console.log(m, v)\n  return v\n}\n\nexport const updateState = (state) => ({\n  onkeyup: (e) => (state[e.target.name] = e.target.value),\n})\n\nconst resetToast = (mdl) => {\n  mdl.toast.show(false)\n  mdl.toast.msg(null)\n  mdl.toast.status(null)\n}\n\nexport const makeToast = ({ mdl, status, msg }) => {\n  mdl.toast.show(true)\n  mdl.toast.status(status)\n  mdl.toast.msg(msg)\n  setTimeout(() => resetToast(mdl), mdl.toast.duration())\n}\n\nexport const formatError = (error) => JSON.parse(JSON.stringify(error))\n\nconst getEpisodeLink = (label) => (path) => (links) => ({\n  label,\n  href: makeHttps(view(lensPath([path, \"href\"]), links)),\n})\n\nconst formatDetailsLinks = (links) =>\n  [\n    getEpisodeLink(\"previous\")(\"previousepisode\")(links),\n    getEpisodeLink(\"next\")(\"nextepisode\")(links),\n  ].filter((ep) => !propEq(\"href\", undefined)(ep))\n\nconst formatEpisodeLinks = (links) =>\n  [getEpisodeLink(\"self\")(\"self\")(links)].filter(\n    (ep) => !propEq(\"href\", undefined)(ep)\n  )\n\nconst toEpisodeViewModel = ({\n  name,\n  season,\n  number,\n  airdate,\n  image,\n  _links,\n}) => ({\n  name,\n  season,\n  number,\n  airdate,\n  image: image && (makeHttps(image.original) || makeHttps(image.medium)),\n  links: formatEpisodeLinks(_links),\n})\n\nconst toDetailsViewModel = ({\n  image,\n  tvmazeId,\n  objectId,\n  listStatus,\n  name,\n  notes,\n}) => ({\n  webChannel,\n  status,\n  network,\n  genres,\n  premiered,\n  summary,\n  _links,\n}) => ({\n  name,\n  notes,\n  genre: join(\" \", genres),\n  premiered,\n  summary,\n  links: formatDetailsLinks(_links),\n  image,\n  tvmazeId,\n  objectId,\n  listStatus,\n  webChannel: webChannel && webChannel.name,\n  network: network && network.name,\n  status,\n})\n\nconst makeHttps = (url) => url && url.replace(\"http\", \"https\")\n\nexport const toSearchViewModel = ({ name, image, id }) => ({\n  image: image && (makeHttps(image.original) || makeHttps(image.medium)),\n  tvmazeId: id,\n  name,\n})\n\nexport const toDbModel = (userId) => ({\n  listStatus,\n  notes,\n  name,\n  tvmazeId,\n  image,\n  status,\n}) => ({\n  image,\n  listStatus,\n  notes,\n  name,\n  tvmazeId,\n  status,\n  userId,\n})\n\nexport const onError = (mdl) => (type) => (error) => {\n  mdl.errors[type](error)\n  makeToast({ mdl, msg: JSON.parse(error).message, status: false })\n}\n\nconst rejectWithAttr = (attr) => (value) => reject(propEq(attr, value))\n\nconst updateResults = (result) => (show) => {\n  if (show) {\n    return assoc(\n      \"objectId\",\n      show.objectId,\n      set(lensProp(\"listStatus\"), prop(\"listStatus\", show), result)\n    )\n  } else {\n    return result\n  }\n}\n\nexport const updateShowStatus = (shows) => (data) =>\n  data.map((r) =>\n    compose(updateResults(r), find(propEq(\"tvmazeId\", r.tvmazeId)))(shows)\n  )\n\nexport const getShows = (mdl) => (http) =>\n  http\n    .getTask(\n      http.backendlessUrl(\n        `data/${mdl.db}?pagesize=100&where=userId%3D'${mdl.user.data.objectId}'`\n      )\n    )\n    .map(sortBy(propEq(\"name\")))\n\nexport const searchShowsTask = (mdl) => (http) =>\n  http\n    .getTask(http.searchUrl(mdl.state.query()))\n    .map(pluck(\"show\"))\n    .map(map(toSearchViewModel))\n    .map(rejectWithAttr(\"image\")(null))\n    .map(updateShowStatus(mdl.user.shows))\n\nconst itemSelected = (mdl) => (result) =>\n  equals(prop(\"tvmazeId\", result), mdl.state.searchItem.showMenu())\n\nexport const propIsDefined = (attr) => compose(not, propEq(attr, undefined))\n\nexport const showListSelection = (mdl) =>\n  anyPass([itemSelected(mdl), propIsDefined(\"objectId\")])\n\nconst updateListStatus = (show) => (listType) =>\n  over(lensProp(\"listStatus\"), () => listType, show)\n\nconst createBody = (mdl) => (dto) => ({\n  body: toDbModel(mdl.user.data.objectId)(dto),\n})\n\nconst updateOrder = (mdl) => (show) => {\n  show.order = filter(\n    propEq(\"listStatus\", show.listStatus),\n    mdl.user.shows\n  ).length\n  return show\n}\n\nexport const toDto = (mdl, show, listType) =>\n  compose(createBody(mdl), updateOrder(mdl), updateListStatus(show))(listType)\n\nconst linkUserToShowTask = (mdl) => (http) => (show) =>\n  http.postTask(\n    http.backendlessUrl(\n      `data/Users/${mdl.user.data.objectId}/shows%3A${mdl.db}%3A1`\n    ),\n    { body: [show.objectId] }\n  )\n\nexport const addUserShowsTask = (mdl) => (http) => (show) => (list) =>\n  http\n    .postTask(http.backendlessUrl(`data/${mdl.db}`), toDto(mdl, show, list))\n    .chain(linkUserToShowTask(mdl)(http))\n    .chain((_) => getShows(mdl)(http))\n    .map(mdl.user.shows)\n\nexport const updateUserShowsTask = (mdl) => (http) => (show) => (list) =>\n  http\n    .putTask(\n      http.backendlessUrl(`data/${mdl.db}\\\\${show.objectId}`),\n      toDto(mdl, show, list)\n    )\n    .chain((_) => getShows(mdl)(http))\n\nexport const deleteShowTask = (mdl) => (http) => (id) =>\n  http\n    .deleteTask(http.backendlessUrl(`data/${mdl.db}/${id}`))\n    .chain((_) => getShows(mdl)(http))\n\nexport const updateShowDetailsTask = (mdl) => (http) => (dto) =>\n  http\n    .putTask(\n      http.backendlessUrl(\n        `data/${mdl.db}/${mdl.state.details.selected().objectId}`\n      ),\n      {\n        body: dto,\n      }\n    )\n    .chain(({ objectId }) => getShowDetailsTask(mdl)(http)(objectId))\n\nexport const getShowTvMazeDetailsTask = (http) => (show) =>\n  http\n    .getTask(http.tvMazeDetailsUrl(show.tvmazeId))\n    .map(toDetailsViewModel(show))\n\nconst findShowInDbTask = (mdl) => (http) => (id) =>\n  http.getTask(http.backendlessUrl(`data/${mdl.db}/${id}`))\n\nexport const getShowDetailsTask = (mdl) => (http) => (id) =>\n  findShowInDbTask(mdl)(http)(id).chain(getShowTvMazeDetailsTask(http))\n\nexport const filterShowsByListType = (mdl) =>\n  filter(propEq(\"listStatus\", mdl.state.currentList()), mdl.user.shows)\n\nexport const filterShowForUnselected = (mdl) => {\n  let selected = pluck(\"tvmazeId\", mdl.user.shows)\n  return mdl.data.shows().filter((show) => !selected.includes(show.tvmazeId))\n}\n\nexport const getEpisodeTask = (http) => (episodeUrl) =>\n  http.getTask(episodeUrl).map(toEpisodeViewModel)\n\nexport const registerUserTask = (http) => ({ name, email, password }) =>\n  http.postTask(http.backendlessUrl(\"users/register\"), {\n    body: {\n      name,\n      email,\n      password: btoa(password),\n    },\n  })\n\nexport const loginUserTask = (http) => ({ email, password }) =>\n  http.postTask(http.backendlessUrl(\"users/login\"), {\n    body: {\n      login: email,\n      password: btoa(password),\n    },\n  })\n","import http from \"../Http.js\"\nimport { getShows, onError } from \"./fns.js\"\nimport { Modal, List } from \"components\"\n\nconst getShowsTask = (mdl) => (http) =>\n  getShows(mdl)(http).fork(onError, (shows) => (mdl.user.shows = shows))\n\nexport const Home = () => {\n  return {\n    oninit: ({ attrs: { mdl } }) => getShowsTask(mdl)(http),\n    view: ({ attrs: { mdl } }) => {\n      return mdl.state.details.selected() ? m(Modal, { mdl }) : m(List, { mdl })\n    },\n  }\n}\n","export * from \"./login.js\"\nexport * from \"./register.js\"\nexport * from \"./home.js\"\nexport * from \"./search-page.js\"\n","import http from \"../Http.js\"\nimport { loginUserTask, makeToast } from \"./fns\"\nimport { FormWrap, Card } from \"components\"\n\nexport const Login = ({ attrs: { mdl } }) => {\n  const state = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    confirm: \"\",\n    errors: \"\",\n  }\n\n  const loginUser = (data) => {\n    const onError = (error) => {\n      state.errors = JSON.parse(JSON.stringify(error))\n      mdl.state.isAuth(false)\n      makeToast({ mdl, msg: state.errors.response.message, status: false })\n    }\n\n    const onSuccess = (data) => {\n      state.errors = \"\"\n      mdl.state.isAuth(true)\n      mdl.user.data = data\n      localStorage.setItem(\"user\", JSON.stringify(mdl.user))\n      console.log(mdl)\n      m.route.set(\"/home\")\n    }\n\n    loginUserTask(http)(data).fork(onError, onSuccess)\n  }\n\n  return {\n    view: () =>\n      m(Card, {\n        header: m(\n          \"ion-card-title\",\n          { color: \"primary\" },\n          m(\"h3.ion-text-center\", \"Login to your account!\")\n        ),\n        content: m(\n          FormWrap,\n          { state },\n          m(\n            \"ion-item\",\n            m(\"ion-input\", {\n              name: \"email\",\n              type: \"email\",\n              placeholder: \"your@email.com\",\n              ngmodel: \"\",\n              required: \"required\",\n            })\n          ),\n          m(\n            \"ion-item\",\n            m(\"ion-input\", {\n              name: \"password\",\n              type: \"password\",\n              placeholder: \"Password\",\n              ngmodel: \"\",\n              required: \"required\",\n            })\n          )\n        ),\n        footer: [\n          m(\n            \"ion-button\",\n            {\n              size: \"large\",\n              expand: \"block\",\n              onclick: (e) => loginUser(state),\n            },\n            \"Login\"\n          ),\n          m(\n            m.route.Link,\n            {\n              href: \"/register\",\n            },\n            m(\"ion-text\", { color: \"warning\" }, \"Need to Register?\")\n          ),\n        ],\n      }),\n  }\n}\n","import http from \"../Http.js\"\nimport { registerUserTask, makeToast } from \"./fns\"\nimport { FormWrap, Card } from \"components\"\n\nexport const Register = ({ attrs: { mdl } }) => {\n  const state = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    confirm: \"\",\n    errors: \"\",\n  }\n\n  const registerUser = (data) => {\n    const onError = (error) => {\n      state.errors = JSON.parse(JSON.stringify(error))\n      mdl.state.isAuth(false)\n      makeToast({ mdl, msg: state.errors.response.message, status: false })\n    }\n\n    const onSuccess = (data) => {\n      state.errors = \"\"\n      mdl.state.isAuth(true)\n      mdl.user.data = data\n      localStorage.setItem(\"user\", JSON.stringify(mdl.user))\n      m.route.set(\"/home\")\n    }\n\n    registerUserTask(http)(data).fork(onError, onSuccess)\n  }\n\n  return {\n    view: () =>\n      m(Card, {\n        header: m(\n          \"ion-card-title\",\n          { color: \"warning\" },\n          m(\"h3.ion-text-center\", \"Create An Account\")\n        ),\n        content: m(\n          FormWrap,\n          { state },\n          m(\n            \"ion-item\",\n            m(\"ion-input\", {\n              name: \"name\",\n              type: \"text\",\n              placeholder: \"Name\",\n              required: \"required\",\n              value: state.name,\n            })\n          ),\n          m(\n            \"ion-item\",\n            m(\"ion-input\", {\n              name: \"email\",\n              type: \"email\",\n              placeholder: \"your@email.com\",\n              required: \"required\",\n              value: state.email,\n            })\n          ),\n          m(\n            \"ion-item\",\n            m(\"ion-input\", {\n              name: \"password\",\n              type: \"password\",\n              placeholder: \"Password\",\n              required: \"required\",\n              value: state.password,\n            })\n          ),\n          m(\n            \"ion-item\",\n            m(\"ion-input\", {\n              name: \"confirm\",\n              type: \"password\",\n              placeholder: \"Confirn Password\",\n              required: \"required\",\n              value: state.cornfim,\n            })\n          )\n        ),\n        footer: [\n          m(\n            \"ion-button\",\n            {\n              size: \"large\",\n              expand: \"block\",\n              onclick: () => registerUser(state),\n            },\n            \"Register\"\n          ),\n          m(\n            m.route.Link,\n            {\n              href: \"/login\",\n            },\n            \"Need to Login?\"\n          ),\n        ],\n      }),\n  }\n}\n","import http from \"../Http.js\"\nimport { filterShowForUnselected, addUserShowsTask, onError } from \"./fns.js\"\nimport { Modal } from \"components\"\n\nconst addUserShows = (mdl) => (show, list) =>\n  addUserShowsTask(mdl)(http)(show)(list).fork(\n    onError(mdl)(\"search\"),\n    mdl.user.shows\n  )\n\nconst showModal = (mdl, show) => mdl.state.details.selected(show)\n\nexport const SearchPage = () => {\n  return {\n    view: ({ attrs: { mdl } }) => {\n      return mdl.state.details.selected()\n        ? m(Modal, { mdl })\n        : m(\n            \"ion-list\",\n            {\n              oncreate: ({ dom }) => {\n                mdl.state.listDom = dom\n                dom.closeSlidingItems()\n              },\n            },\n            filterShowForUnselected(mdl).map((show, idx) =>\n              m(\n                \"ion-item-sliding\",\n                {\n                  key: idx,\n                },\n                m(\n                  \"ion-item\",\n                  { onclick: () => showModal(mdl, show) },\n                  m(\n                    \"ion-thumbnail\",\n                    { style: { \"border-radius\": \"0\" } },\n                    m(\"ion-img\", { src: show.image })\n                  ),\n                  m(\n                    \"ion-label\",\n                    { style: { paddingLeft: \"12px\" } },\n                    m(\"h2\", show.name)\n                  )\n                ),\n                m(\n                  \"ion-item-options\",\n                  { side: \"start\" },\n                  mdl.user.lists.map((list) =>\n                    m(\n                      \"ion-item-option\",\n                      {\n                        onclick: () => {\n                          addUserShows(mdl)(show, list)\n                          mdl.state.listDom.closeSlidingItems()\n                        },\n                      },\n                      list\n                    )\n                  )\n                )\n              )\n            )\n          )\n    },\n  }\n}\n","import { Home, Alarm, SearchPage } from \"pages\"\nimport { Layout } from \"components\"\n\nconst Routes = [\n  {\n    id: \"home\",\n    name: \"home\",\n    icon: \"home\",\n    route: \"/home\",\n    isNav: false,\n    group: [\"authenticated\"],\n    children: [],\n    options: [],\n    onmatch: (mdl, args, path, fullroute) => {},\n    component: (mdl) => m(Layout, { mdl }, m(Home, { mdl })),\n  },\n  {\n    id: \"search\",\n    name: \"search\",\n    icon: \"search-outline\",\n    route: \"/search\",\n    isNav: false,\n    group: [\"authenticated\"],\n    children: [],\n    options: [],\n    onmatch: (mdl, args, path, fullroute) => {},\n    component: (mdl) => m(Layout, { mdl }, m(SearchPage, { mdl })),\n  },\n]\n\nexport default Routes\n","import AuthRoutes from \"./auth-routes.js\"\nimport MainRoutes from \"./main-routes.js\"\nimport { flatten } from \"ramda\"\n\nconst Routes = flatten([MainRoutes, AuthRoutes])\nexport default Routes\n","import { Login, Register } from \"pages\"\nimport { Layout, PageWrap } from \"components\"\n\nconst MainRoutes = [\n  {\n    id: \"login\",\n    name: \"login\",\n    icon: \"login\",\n    route: \"/login\",\n    isNav: false,\n    group: [],\n    children: [],\n    options: [],\n    onmatch: (mdl, args, path, fullroute) => {},\n    component: (mdl) => m(Layout, { mdl }, m(PageWrap, m(Login, { mdl }))),\n  },\n  {\n    id: \"register\",\n    name: \"register\",\n    icon: \"register\",\n    route: \"/register\",\n    isNav: false,\n    group: [],\n    children: [],\n    options: [],\n    onmatch: (mdl, args, path, fullroute) => {},\n    component: (mdl) => m(Layout, { mdl }, m(PageWrap, m(Register, { mdl }))),\n  },\n]\n\nexport default MainRoutes\n"]}